---
const tablePages = [
  { href: '/components/table', label: 'Overview' },
  { href: '/components/table/sorting', label: 'Sorting' },
  { href: '/components/table/selection', label: 'Selection' },
  { href: '/components/table/expansion', label: 'Expansion' },
  { href: '/components/table/keyboard', label: 'Keyboard' },
  { href: '/components/table/infinite-scroll', label: 'Infinite Scroll' },
  { href: '/components/table/resizing', label: 'Resizing' },
  { href: '/components/table/reordering', label: 'Reordering' },
]

const listPages = [
  { href: '/components/list', label: 'Overview' },
  { href: '/components/list/infinite-scroll', label: 'Infinite Scroll' },
  { href: '/components/list/keyboard', label: 'Keyboard' },
  { href: '/components/list/live-updates', label: 'Live Updates' },
  { href: '/components/list/social-feed', label: 'Social Feed' },
]

const links = [
  { href: '/', label: 'Home' },
  { href: '/getting-started', label: 'Getting Started' },
]

const currentPath = Astro.url.pathname.replace(/\/$/, '') || '/'
const isTablePage = currentPath.startsWith('/components/table')
const isListPage = currentPath.startsWith('/components/list')
---

<aside class="bg-base-200 w-72 min-h-screen p-6">
  <div class="mb-8">
    <a href="/" class="text-xl font-bold">virtualized-ui</a>
    <p class="text-sm text-base-content/60 mt-1">v0.2.0</p>
  </div>

  <ul class="menu menu-sm gap-1">
    {links.map((link) => (
      <li>
        <a
          href={link.href}
          class:list={[{ active: currentPath === link.href }]}
        >
          {link.label}
        </a>
      </li>
    ))}
  </ul>

  <div class="mt-6">
    <p class="text-xs font-semibold text-base-content/50 uppercase tracking-wider mb-2 px-3">
      Components
    </p>
    <ul class="menu menu-sm gap-0">
      {/* VirtualTable section */}
      <li>
        <details open={isTablePage}>
          <summary class:list={["font-medium", { "text-primary": isTablePage }]}>VirtualTable</summary>
          <ul>
            {tablePages.map((link) => (
              <li>
                <a
                  href={link.href}
                  class:list={[{ active: currentPath === link.href }]}
                >
                  {link.label}
                </a>
              </li>
            ))}
          </ul>
        </details>
      </li>

      {/* VirtualList section */}
      <li>
        <details open={isListPage}>
          <summary class:list={["font-medium", { "text-primary": isListPage }]}>VirtualList</summary>
          <ul>
            {listPages.map((link) => (
              <li>
                <a
                  href={link.href}
                  class:list={[{ active: currentPath === link.href }]}
                >
                  {link.label}
                </a>
              </li>
            ))}
          </ul>
        </details>
      </li>

      {/* VirtualSelect - coming soon */}
      <li>
        <span class="text-base-content/40 cursor-not-allowed">
          VirtualSelect
          <span class="badge badge-xs badge-ghost">soon</span>
        </span>
      </li>
    </ul>
  </div>

  <div class="mt-8 pt-6 border-t border-base-300">
    <ul class="menu menu-sm gap-1">
      <li>
        <a href="https://github.com/grishalr/virtualized-ui" target="_blank" rel="noopener">
          GitHub
        </a>
      </li>
      <li>
        <a href="https://npmjs.com/package/virtualized-ui" target="_blank" rel="noopener">
          npm
        </a>
      </li>
    </ul>
  </div>
</aside>
